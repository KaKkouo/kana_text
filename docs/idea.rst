実装アイデア
############
思いついた機能を書き出しておく.

索引タイプ
==========
attribute
---------
記載例

.. code-block:: rst

   .. index::
      attribute: main; attr1; attr2; attr3; ...; attrN

以下の記述と同値

.. code-block:: rst

   .. index::
      single: main
      single: attr1; main
      single: attr2; main
      single: attr3; main
      …
      single: attrN; main

keys
----
記載例

.. code-block:: rst

   .. index::
      keys: main; key1; key2; key3; ...; keyN

以下の記述と同値

.. code-block:: rst

   .. index::
      pair: main; key1
      pair: main; key2
      pair: main; key3
      …
      pair: main; keyN

下拵え
------
process_index_entryに拡張性を持たせて、indextypesのカスタムができるようにする.

かな文字情報の補完
==================
かな文字情報の登録の手間を減らす方法

平仮名で始まる
--------------
必要性

- 対処しなくてもいいかもしれないけど「お弁当」のパターンでの前後の並び次第.

カタカナで始まる
----------------
必要性

- 文字コードの関係で直観的な並び順にはならないので対処した方がいいかもしれない.

方法

- 決まったコード領域に収まるので、それを判定してひらがなに変換することは可能なはず.
- 処理対象にする文字数は設定可能とはしないけど、変数で意味付けはする.

漢字で始まる
------------
必要性

- 茶筅などは使わないため表記文字列が長くなる場合がある.
- その時の一致条件を緩和することでかな文字応報の登録の手間を減らしたい.

方法

- 一定の文字数までの漢字を拾って照合する.
- 最低文字数以下であれば最後のひらがな・カタカナも拾って読みのブレを避ける.

    - ひらがな・かたかな以外の文字は捨てるけど、終端か否かの判定材料は欲しい.
    - 現状の終端候補は「を」. 送り仮名としてはあり得ない文字を使う.

索引ページ
==========
see, seealso
------------
「foobarを参照」の同じページ内での該当箇所へのリンクを付与する.

- 「index-N」の利用条件はページ内ユニークのはずだから、これを使う.
- IndexRack/generate_genidex_data内で取ると２回回す必要がある. できれば避けたい.

   - see/seealsoの対象をglossaryの限定すれば「main」で決め打ちできる.
   - ただし、一意性が現状は保証されていないので微妙.
   - 一意性を保証するには、Glossaryクラスでのmake_glossary_term関数前後のケアが必要.
